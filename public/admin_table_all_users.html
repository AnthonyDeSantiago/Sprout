<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta tags and title -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>

    <!-- Favicon and stylesheets -->
    <link rel="icon" href="assets/ICON.png" type="image/x-icon" />
    <link rel="stylesheet" href="css/main_style.css" class="rel">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">

    <!-- JavaScript files -->
    <script defer src="js/sprout.js" type="module"></script>
    <script defer src="js/admin_tables/admin_table_allusers.js" type="module"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
</head>

<body>
    <!-- Header navigation -->
    <div class="header-nav">
        <div class="sprout_logo">
            <img src="assets/LOGO.png" id="logo">
        </div>
        <div class="userprofile">
            <div class="userprofile_image">
                <img src="" id="userprofile_image_src">
            </div>
            <div class="userprofile_text">
                <span id="userprofile_name">Welcome User</span>
            </div>
        </div>
    </div>

    <!-- Drop-down menu container -->
    <div class="dropdown">
        <div class="dropdown-button" onclick="toggleDropdown()">â˜°</div>
        <div class="dropdown-content" id="dropdownContent">
            <a href="#">Home</a>
            <a href="#" onclick="goBack()">Back</a>
            <a href="#" onclick="logout()">Logout</a>
            <a href="about.html">About</a>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="search-container">
        <p>Type in username or account number to search</p>
        <input class="search-input" type="text" id="search" placeholder="Search...">
    </div>

    <!-- Add a button to create a new user -->
    <button id="createUserButton" onclick="openCreateUserPopup()">Create User</button>

    <!-- Extendable Table Container -->
    <div id="extendable-table" class="extendable-table">
        <table id="userTable" class="display">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>Email</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Address</th>
                    <th>Date of Birth</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- User data will be dynamically populated here -->
            </tbody>
        </table>
    </div>

    <!-- Popup Background for Create User -->
    <div id="createUserPopupBackground" class="popup-background" onclick="closeCreateUserPopup()"></div>

    <!-- Create User Popup Form -->
    <div id="createUserPopup" class="popup hidden">
        <div class="popup-content">
            <span class="close" onclick="closeCreateUserPopup()">&times;</span>
            <h2>Create New User</h2>
            <form id="create_user_form">
                <!-- Form fields for creating a new user -->
                <!-- Add input fields for username, email, first name, last name, address, and date of birth -->
                <button type="button" onclick="submitCreateUserForm()">Create User</button>
            </form>
        </div>
    </div>

    <!-- Popup Background for Edit User -->
    <div id="editUserPopupBackground" class="popup-background" onclick="closeEditUserPopup()"></div>

    <!-- Edit User Popup Form -->
    <div id="editUserPopup" class="popup hidden">
        <div class="popup-content">
            <span class="close" onclick="closeEditUserPopup()">&times;</span>
            <h2>Edit User</h2>
            <form id="edit_user_form">
                <!-- Form fields for editing user information -->
                <!-- Add input fields for new username, new email, new first name, new last name, new address, and new date of birth -->
                <button type="button" onclick="submitEditUserForm()">Update User</button>
            </form>
        </div>
    </div>

    <!-- Popup Background for Delete User -->
    <div id="deleteUserPopupBackground" class="popup-background" onclick="closeDeleteUserPopup()"></div>

    <!-- Delete User Popup Form -->
    <div id="deleteUserPopup" class="popup hidden">
        <div class="popup-content">
            <span class="close" onclick="closeDeleteUserPopup()">&times;</span>
            <h2>Are you sure you want to delete this user?</h2>
            <button onclick="deleteUser(userIdToDelete)" class="delete-button">Yes</button>
            <button onclick="closeDeleteUserPopup()">No</button>
        </div>
    </div>

    <!-- Buttons for Edit, Delete, Email, and Suspend -->
    <div class="button-container" id="button-container">
        <button class="edit-button" onclick="openEditUserPopup()">Edit User</button>
        <button class="delete-button" onclick="openDeleteUserPopup()">Delete</button>
        <button id="email-button" onclick="openEmailUserPopup()">Email User</button>
        <button id="suspend-button" onclick="openSuspendUserPopup()">Suspend</button>
    </div>

    <!-- Initialize DataTablesAdvanced on your table -->
    <script>
        $(document).ready(function () {
            $('#userTable').DataTable({
                "pageLength": 10, // Number of rows to display per page
                "order": [], // Initial sorting columns (you can specify multiple columns and orders)
                // Add more options as needed
            });
        });
    </script>

    <!-- Your custom JavaScript functions for handling popups and user interactions -->
    <script defer src="js/custom_functions.js" type="module"></script>
</body>

</html>
